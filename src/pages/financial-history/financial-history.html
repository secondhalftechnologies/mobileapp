<!--
  Generated template for the FinancialHistoryPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
	
	<ion-navbar color="app">
		<ion-title>Financial History</ion-title>
	</ion-navbar>
	<ion-toolbar color="app">
		<ion-title>Total : {{history.controls.f8_points.value}}</ion-title>
    </ion-toolbar>

</ion-header>


<ion-content padding>
	<form [formGroup]="history">
		<ion-list>


			<ion-item>
			    <ion-label floating>Do You Have A Crop Insurance? <span>*</span></ion-label>
			    <ion-select formControlName="f8_crop_insurance" interface="popover">
					<ion-option value="yes">Yes</ion-option>
					<ion-option value="no">No</ion-option>
			    </ion-select>
			</ion-item>
			<div *ngIf="history.controls.f8_crop_insurance.invalid  && (history.controls.f8_crop_insurance.dirty || submitAttempt)">
	            <p *ngIf="history.controls.f8_crop_insurance.errors.required">This field is required.</p>
	        </div>
			
			<div *ngIf="history.controls.f8_crop_insurance.value == 'yes'">
				<ion-item>
		            <ion-label floating>What Was The Amount Of The Insurance? <span>*</span></ion-label>
		            <ion-input formControlName="f8_insurance_amount" type="number"></ion-input>
		        </ion-item>
				<div *ngIf="history.controls.f8_insurance_amount.invalid  && (history.controls.f8_insurance_amount.dirty || submitAttempt)">
		            <p *ngIf="history.controls.f8_insurance_amount.errors.required">This field is required.</p>
		            <p *ngIf="history.controls.f8_insurance_amount.errors.maxlength">Lenght should be smaller than or equal to 10.</p>
		            <p *ngIf="history.controls.f8_insurance_amount.errors.pattern">Please enter a valid number.</p>
		        </div>
				
				<ion-item>
		            <ion-label floating>What Was The Name Of The Insurer? <span>*</span></ion-label>
		            <ion-input formControlName="f8_insurer_name" type="text"></ion-input>
		        </ion-item>
				<div *ngIf="history.controls.f8_insurer_name.invalid  && (history.controls.f8_insurer_name.dirty || submitAttempt)">
		            <p *ngIf="history.controls.f8_insurer_name.errors.required">This field is required.</p>
		            <p *ngIf="history.controls.f8_insurer_name.errors.maxlength">Lenght should be smaller than or equal to 50.</p>
		        </div>
			</div>

	        <ion-item>
			    <ion-label floating>Any Subsidies Received From The Government? <span>*</span></ion-label>
			    <ion-select formControlName="f8_any_subsidies" interface="popover">
					<ion-option value="yes">Yes</ion-option>
					<ion-option value="no">No</ion-option>
			    </ion-select>
			</ion-item>
			<div *ngIf="history.controls.f8_any_subsidies.invalid  && (history.controls.f8_any_subsidies.dirty || submitAttempt)">
	            <p *ngIf="history.controls.f8_any_subsidies.errors.required">This field is required.</p>
	        </div>
			<div *ngIf="history.controls.f8_any_subsidies.value == 'yes'">			
				<ion-item>
		            <ion-label floating>Name Of The Subsidy? <span>*</span></ion-label>
		            <ion-input formControlName="f8_subsidy_name" type="text"></ion-input>
		        </ion-item>
				<div *ngIf="history.controls.f8_subsidy_name.invalid  && (history.controls.f8_subsidy_name.dirty || submitAttempt)">
		            <p *ngIf="history.controls.f8_subsidy_name.errors.required">This field is required.</p>
		            <p *ngIf="history.controls.f8_subsidy_name.errors.maxlength">Lenght should be smaller than or equal to 50.</p>
		        </div>
			</div>

	        <ion-item>
			    <ion-label floating>Any Waivers Received From The Government? <span>*</span></ion-label>
			    <ion-select formControlName="f8_any_loan_waivers" interface="popover">
					<ion-option value="yes">Yes</ion-option>
					<ion-option value="no">No</ion-option>
			    </ion-select>
			</ion-item>
			<div *ngIf="history.controls.f8_any_loan_waivers.invalid  && (history.controls.f8_any_loan_waivers.dirty || submitAttempt)">
	            <p *ngIf="history.controls.f8_any_loan_waivers.errors.required">This field is required.</p>
	        </div>
			<div *ngIf="history.controls.f8_any_loan_waivers.value == 'yes'">
	        	<ion-item>
		            <ion-label floating>Name Of The Waivers <span>*</span></ion-label>
		            <ion-input formControlName="f8_waiver_name" type="text"></ion-input>
		        </ion-item>
				<div *ngIf="history.controls.f8_waiver_name.invalid  && (history.controls.f8_waiver_name.dirty || submitAttempt)">
		            <p *ngIf="history.controls.f8_waiver_name.errors.required">This field is required.</p>
		            <p *ngIf="history.controls.f8_waiver_name.errors.maxlength">Lenght should be smaller than or equal to 50.</p>
	        	</div>
			</div>


		</ion-list>
	</form>
	<ion-fab top right edge>
		<button (click)="save()" ion-fab><ion-icon name="checkmark"></ion-icon></button>
	</ion-fab>
</ion-content>
